<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù†Ø¸Ø§Ù… Ù…Ø­Ø§Ø³Ø¨Ø© Ù…Ù† ØªØ·ÙˆÙŠØ± Ø¹Ù„ÙŠ Ø§Ù„Ù…Ø¶ÙŠÙˆÙŠ </title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>



/* ===== Ø¥Ø­Ø³Ø§Ø³ ØªØ·Ø¨ÙŠÙ‚ Ù…Ø­Ø§Ø³Ø¨Ø© ===== */

/* ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ø®Ø·ÙˆØ· ÙˆØ§Ù„Ø£ÙˆØ²Ø§Ù† */
body{
 font-weight:500;
 letter-spacing:.2px;
}

/* Ù‡ÙŠØ¯Ø± Ø«Ø§Ø¨Øª Ø²ÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª */
header{
 position:sticky;
 top:0;
 z-index:100;
 border-bottom:1px solid #1e293b;
}

/* Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ù‚Ø³Ø§Ù… = ØªØ§Ø¨ Ø¨Ø§Ø± */
.navbar{
 background:#020617;
 box-shadow:0 6px 20px rgba(0,0,0,.4);
 border-bottom:1px solid #1e293b;
}

.navbar button{
 background:linear-gradient(135deg,#1e293b,#020617);
 border:1px solid #1e293b;
 transition:.25s;
}

.navbar button:hover{
 transform:translateY(-2px);
 box-shadow:0 10px 25px rgba(0,0,0,.6);
}

/* Ø§Ù„ÙƒØ±ÙˆØª Ø§Ù„Ù…Ø§Ù„ÙŠØ© */
.card{
 background:linear-gradient(180deg,#020617,#111827);
 border:1px solid #1e293b;
 box-shadow:
 0 10px 30px rgba(0,0,0,.5),
 inset 0 1px 0 rgba(255,255,255,.04);
}

.card h4{
 font-size:15px;
 text-transform:uppercase;
 opacity:.8;
}

.big{
 color:#22c55e;
}

/* Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª */
input{
 border:1px solid #1e293b;
 transition:.2s;
}

input:focus{
 outline:none;
 border-color:#2563eb;
 box-shadow:0 0 0 3px rgba(37,99,235,.25);
}

/* Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ */
table{
 border-radius:14px;
 overflow:hidden;
}

th{
 background:#020617;
 font-size:14px;
 letter-spacing:.5px;
}

tr:hover td{
 background:#020617;
}

/* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
.btn{
 box-shadow:0 8px 20px rgba(0,0,0,.5);
}

.btn.add{background:linear-gradient(135deg,#2563eb,#1d4ed8);}
.btn.edit{background:linear-gradient(135deg,#22c55e,#16a34a);}
.btn.del{background:linear-gradient(135deg,#dc2626,#991b1b);}

/* Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
#login{
 box-shadow:0 30px 80px rgba(0,0,0,.8);
 border:1px solid #1e293b;
}

/* Ø­Ø±ÙƒØ© Ø®ÙÙŠÙØ© */
button,input,.card,table{
 transition:.25s ease;
}





:root{
 --accent:#2563eb;
 --accent2:#22c55e;
 --danger:#dc2626;
 --text:#e5e7eb;
}
body{
 margin:0;
 font-family:'Cairo',Tahoma;
 background:linear-gradient(135deg,#0a0f1f,#111827);
 color:var(--text);
}
header{
 background:#0a0f1f;
 padding:18px;
 display:flex;
 justify-content:space-between;
}
.navbar{
 display:flex;
 gap:10px;
 padding:12px;
 background:#0a0f1f;
 justify-content:center;
 flex-wrap:wrap;
}
.navbar button{
 padding:10px 20px;
 border:none;
 border-radius:30px;
 background:#1e293b;
 color:#fff;
 cursor:pointer;
 font-weight:bold;
}
main{padding:20px}
.cards{
 display:grid;
 grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
 gap:20px;
}
.card{
 background:#111827;
 padding:20px;
 border-radius:20px;
}
.card h4{margin:0;color:#38bdf8}
.big{font-size:26px;font-weight:bold;margin-top:12px;}
input{
 width:100%;
 padding:12px;
 margin:6px 0;
 border-radius:12px;
 border:none;
 background:#0a0f1f;
 color:#fff;
}
.btn{
 padding:10px 18px;
 border:none;
 border-radius:25px;
 cursor:pointer;
 font-weight:bold;
 color:#fff;
}
.btn.add{background:var(--accent);}
.btn.del{background:var(--danger);}
.btn.edit{background:var(--accent2);}
table{
 width:100%;
 margin-top:15px;
 border-collapse:collapse;
 background:#0a0f1f;
}
th,td{
 padding:12px;
 border-bottom:1px solid #1e293b;
 text-align:center;
}
th{color:#38bdf8}

/* Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙÙ‚Ø· */
#login{
 max-width:360px;
 margin:120px auto;
 background:#111827;
 padding:25px;
 border-radius:20px;
}

.navbar{
 position:relative;
 z-index:200;
}
</style>
</head>

<body>

<!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div id="login">
 <h3 style="text-align:center">ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
 <input id="user" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
 <input id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
 <button class="btn add" onclick="login()">Ø¯Ø®ÙˆÙ„</button>
 <div id="err" style="color:#dc2626;text-align:center;margin-top:10px"></div>
</div>

<!-- Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£ØµÙ„ÙŠ -->
<div id="app" style="display:none">

<header>
 <div>ğŸ“Š Ù†Ø¸Ø§Ù… Ù…Ø­Ø§Ø³Ø¨Ø© Ù…Ù† ØªØ·ÙˆÙŠØ± Ø¹Ù„ÙŠ Ø§Ù„Ù…Ø¶ÙŠÙˆÙŠ VIP</div>
 
 <div class="navbar">
  <button onclick="show('dash')">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
  <button onclick="show('store')">Ø§Ù„Ù…Ø®Ø²Ù†</button>
  <button onclick="show('debts')">ÙÙ„ÙˆØ³ Ù„ÙŠÙ‘Ø§</button>
  <button onclick="show('maintenance')">Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ØµÙŠØ§Ù†Ø©</button>
  <button onclick="show('daily')">ğŸ“… Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…</button>
  <button onclick="show('shortage2')">ğŸ“‰ Ù†ÙˆØ§Ù‚Øµ Ø§Ù„Ù…Ø®Ø²Ù†</button>
 </div>
</header>

<main id="content"></main>

</div>

<script>
/* ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ â€“ Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙˆØ­ÙŠØ¯Ø© */
function login(){
 if(
  document.getElementById("user").value==="ali" &&
  document.getElementById("phone").value==="01152800730"
 ){
  document.getElementById("login").style.display="none";
  document.getElementById("app").style.display="block";
  dashboard();
 }else{
  document.getElementById("err").innerText="âŒ Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©";
 }
}

/* ===== Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ØµÙ„ÙŠ Ø¨Ø¯ÙˆÙ† Ø£ÙŠ ØªØ¹Ø¯ÙŠÙ„ ===== */

const content=document.getElementById("content");

let data = JSON.parse(localStorage.getItem("acc_data")) || {
 cash: 0,
 store: [],
 debts: [],
 maintenance: [],
 shortage: [],
 shortage2: [],
 daily: []
};
data.shortage2 = data.shortage2 || [];
function save(){localStorage.setItem("acc_data",JSON.stringify(data));}

function show(s) {
 if (s === "dash") dashboard();
 else if (s === "store") storeUI();
 else if (s === "shortage") shortageUI();
 else if (s === "shortage2") shortage2UI();
 else if (s === "debts") debtsUI();
 else if (s === "maintenance") maintUI();
 else if (s === "daily") dailyUI();
}

/* Dashboard */
function dashboard(){
 let storeVal=data.store.reduce(
  (a,b)=>a+(b.qty*((b.buy??b.price) || 0)),0
 );
 let debts=data.debts.reduce((a,b)=>a+b.amount,0);
 let maint=data.maintenance.reduce((a,b)=>a+(b.sell-b.cost),0);
 content.innerHTML=`
  <div class="card"><h4>Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h4><div class="big">${storeVal} Ø¬</div></div>
  <div class="card"><h4>Ù…ÙƒØ³Ø¨ Ø§Ù„ØµÙŠØ§Ù†Ø©</h4><div class="big">${maint} Ø¬</div></div>
  <div class="card"><h4>ÙÙ„ÙˆØ³ Ù„ÙŠÙ‘Ø§</h4><div class="big">${debts} Ø¬</div></div>
 `;
}

/* Store */
function storeUI(){
 content.innerHTML=`
 <input placeholder="ğŸ” Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬" oninput="storeSearch(this.value)">
 <h3>ğŸ“¦ Ø§Ù„Ù…Ø®Ø²Ù†</h3>
 <input id="p" placeholder="Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù">
 <input id="q" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©">
 <input id="pr" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø¬Ù…Ù„Ø©">
 <input id="ps" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹">
 <button class="btn add" onclick="addStore()">â• Ø¥Ø¶Ø§ÙØ©</button>
 <table>
 <tr><th>Ø§Ù„ØµÙ†Ù</th><th>ÙƒÙ…ÙŠØ©</th><th>Ø¬Ù…Ù„Ø©</th><th>Ø¨ÙŠØ¹</th><th>ØªØ¹Ø¯ÙŠÙ„</th><th>Ø­Ø°Ù</th></tr>
 ${data.store.map((x,i)=>`
 <tr>
  <td>${x.name}</td>
  <td>${x.qty}</td>
  <td>${x.buy ?? x.price}</td>
  <td>${x.sell ?? "-"}</td>
  <td><button class="btn edit" onclick="editStore(${i})">âœ</button></td>
  <td><button class="btn del" onclick="data.store.splice(${i},1);save();storeUI()">âœ–</button></td>
 </tr>`).join("")}
 </table>`;
}
function addStore(){
 data.store.push({
  name:p.value,
  qty:+q.value,
  buy:+pr.value,
  sell:+ps.value
 });
 save();storeUI();
}
function editStore(i){
 let it=data.store[i];
 let n=prompt("Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù",it.name);
 let q=+prompt("Ø§Ù„ÙƒÙ…ÙŠØ©",it.qty);
 let b=+prompt("Ø³Ø¹Ø± Ø§Ù„Ø¬Ù…Ù„Ø©",it.buy ?? it.price);
 let s=+prompt("Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹",it.sell ?? 0);
 if(n){
  data.store[i]={name:n,qty:q,buy:b,sell:s};
  save();storeUI();
 }
}

/* Shortage */
function shortageUI(){
 content.innerHTML=`
 <h3>ğŸ“‰ Ø§Ù„Ù†ÙˆØ§Ù‚Øµ</h3>
 <input id="sn" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
 <input id="sb" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ">
 <button class="btn add" onclick="addShort()">â• Ø¥Ø¶Ø§ÙØ©</button>
 <table>
 <tr><th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>Ø³Ø¹Ø± Ø§Ù„Ø¬Ù…Ù„Ø©</th><th>ØªØ¹Ø¯ÙŠÙ„</th><th>Ø­Ø°Ù</th></tr>
 ${data.shortage.map((x,i)=>`
 <tr>
  <td>${x.name}</td>
  <td>${x.buy}</td>
  <td><button class="btn edit" onclick="editShort(${i})">âœ</button></td>
  <td><button class="btn del" onclick="data.shortage.splice(${i},1);save();shortageUI()">âœ–</button></td>
 </tr>`).join("")}
 </table>`;
}
function addShort(){
 if(!sn.value) return;
 data.shortage.push({name:sn.value,buy:+sb.value});
 save();shortageUI();
}
function editShort(i){
 let it=data.shortage[i];
 let n=prompt("Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬",it.name);
 let b=+prompt("Ø³Ø¹Ø± Ø§Ù„Ø¬Ù…Ù„Ø©",it.buy);
 if(n){
  data.shortage[i]={name:n,buy:b};
  save();shortageUI();
 }
}

/* Debts */
function debtsUI(){
 content.innerHTML=`
 <input placeholder="ğŸ” Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬" oninput="storeSearch(this.value)">
 <h3>ğŸ’° ÙÙ„ÙˆØ³ Ù„ÙŠÙ‘Ø§</h3>
 <input id="n" placeholder="Ø§Ù„Ø§Ø³Ù…">
 <input id="a" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">
 <button class="btn add" onclick="addDebt()">Ø¥Ø¶Ø§ÙØ©</button>
 <table>
 <tr><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ù…Ø¨Ù„Øº</th><th>ØªØ¹Ø¯ÙŠÙ„</th><th>Ø­Ø°Ù</th></tr>
 ${data.debts.map((x,i)=>`
 <tr>
  <td>${x.name}</td>
  <td>${x.amount}</td>
  <td><button class="btn edit" onclick="editDebt(${i})">âœ</button></td>
  <td><button class="btn del" onclick="data.debts.splice(${i},1);save();debtsUI()">âœ–</button></td>
 </tr>`).join("")}
 </table>`;
}
function addDebt(){
 data.debts.push({name:n.value,amount:+a.value});
 save();debtsUI();
}
function editDebt(i){
 let it=data.debts[i];
 let n=prompt("Ø§Ù„Ø§Ø³Ù…",it.name);
 let a=+prompt("Ø§Ù„Ù…Ø¨Ù„Øº",it.amount);
 if(n){
  data.debts[i]={name:n,amount:a};
  save();debtsUI();
 }
}

/* Maintenance */
function maintUI(){
 content.innerHTML=`
 <input placeholder="ğŸ” Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬" oninput="storeSearch(this.value)">
 <h3>ğŸ§° Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ØµÙŠØ§Ù†Ø©</h3>
 <input id="pc" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø©">
 <input id="c" placeholder="Ø³Ø¹Ø±  Ø¬Ù…Ù„Ø©">
 <input id="s" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹">
 <button class="btn add" onclick="addMaint()">â• Ø¥Ø¶Ø§ÙØ©</button>
 <table>
 <tr><th>Ø§Ù„Ù‚Ø·Ø¹Ø©</th><th>Ø¬Ù…Ù„Ø©</th><th>Ø¨ÙŠØ¹</th><th>Ø§Ù„Ù…ÙƒØ³Ø¨</th><th>ØªØ¹Ø¯ÙŠÙ„</th><th>Ø­Ø°Ù</th></tr>
 ${data.maintenance.map((x,i)=>`
 <tr>
  <td>${x.part}</td>
  <td>${x.cost}</td>
  <td>${x.sell}</td>
  <td>${x.sell-x.cost}</td>
  <td><button class="btn edit" onclick="editMaint(${i})">âœ</button></td>
  <td><button class="btn del" onclick="data.maintenance.splice(${i},1);save();maintUI()">âœ–</button></td>
 </tr>`).join("")}
 </table>`;
}
function addMaint(){
 data.maintenance.push({
  part:pc.value,
  cost:+c.value,
  sell:+s.value
 });
 data.cash+=+s.value;
 save();maintUI();
}
function editMaint(i){
 let it=data.maintenance[i];
 let p=prompt("Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø©",it.part);
 let c=+prompt("Ø¬Ù…Ù„Ø©",it.cost);
 let s=+prompt("Ø¨ÙŠØ¹",it.sell);
 if(p){
  data.maintenance[i]={part:p,cost:c,sell:s};
  save();maintUI();
 }
}

function normalize(txt){
 return (txt||"").toString().toLowerCase();
}

function storeSearch(val){
 let q = normalize(val);

 document.querySelectorAll("table tr").forEach((row,i)=>{
  if(i===0) return; // Ø§Ù„Ù‡ÙŠØ¯Ø±
  let name = normalize(row.cells[0].innerText);
  row.style.display = name.includes(q) ? "" : "none";
 });
}

function dailyUI(){
 content.innerHTML=`
 <h3>ğŸ“… Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…</h3>

 <input id="dn" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
 <input id="dq" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©">
 <input id="dp" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹">

 <button class="btn add" onclick="addDaily()">â• Ø¥Ø¶Ø§ÙØ©</button>

 <table>
 <tr>
  <th>Ø§Ù„Ù…Ù†ØªØ¬</th>
  <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
  <th>Ø§Ù„Ø³Ø¹Ø±</th>
  <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
  <th>Ø­Ø°Ù</th>
 </tr>

 ${data.daily.map((x,i)=>`
 <tr>
  <td>${x.name}</td>
  <td>${x.qty}</td>
  <td>${x.price}</td>
  <td>${x.qty * x.price}</td>
  <td>
   <button class="btn del"
    onclick="data.daily.splice(${i},1);save();dailyUI()">
    âœ–
   </button>
  </td>
 </tr>
 `).join("")}
 </table>

 <div class="card">
  <h4>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙŠÙˆÙ…</h4>
  <div class="big">
   ${data.daily.reduce((a,b)=>a+(b.qty*b.price),0)} Ø¬
  </div>
 </div>
 `;
}

function addDaily(){
 let dnEl = document.getElementById("dn");
 let dqEl = document.getElementById("dq");
 let dpEl = document.getElementById("dp");

 data.daily.push({
  name: dnEl.value,
  qty: +dqEl.value,
  price: +dpEl.value
 });

 save();
 dailyUI();
}

function shortage2UI(){
 content.innerHTML=`
 <h3>ğŸ“‰ Ù†ÙˆØ§Ù‚Øµ Ø§Ù„Ù…Ø®Ø²Ù†</h3>

 <input id="sn2" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
 <input id="sq2" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù†Ø§Ù‚ØµØ©">
 <input id="sp2" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ">
 <input id="sl2" placeholder="Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ù…ØªÙˆÙØ± ÙÙŠÙ‡">

 <button class="btn add" onclick="addShortage2()">â• Ø¥Ø¶Ø§ÙØ©</button>

 <table>
 <tr>
  <th>Ø§Ù„Ù…Ù†ØªØ¬</th>
  <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
  <th>Ø§Ù„Ø³Ø¹Ø±</th>
  <th>Ø§Ù„Ù…ÙƒØ§Ù†</th>
  <th>Ø­Ø°Ù</th>
 </tr>

 ${data.shortage2.map((x,i)=>`
 <tr>
  <td>${x.name}</td>
  <td>${x.qty}</td>
  <td>${x.price}</td>
  <td>${x.place}</td>
  <td>
   <button class="btn del"
    onclick="data.shortage2.splice(${i},1);save();shortage2UI()">
    âœ–
   </button>
  </td>
 </tr>
 `).join("")}
 </table>
 `;
}
function addShortage2(){
 data.shortage2.push({
  name: sn2.value,
  qty: +sq2.value,
  price: +sp2.value,
  place: sl2.value
 });
 save();
 shortage2UI();
}
</script>

</body>
</html>
